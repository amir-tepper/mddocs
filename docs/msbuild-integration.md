# MdDocs MSBuild Integration

**Applies to:** Version 0.4 and later

## Installation

*MdDocs* is a distributed as NuGet packages.

- Prerelease builds are available on [MyGet](https://www.myget.org/feed/ap0llo-mddocs/package/nuget/Grynwald.Utilities)
- Release versions are available on [NuGet.org](https://www.nuget.org/packages/Grynwald.MdDocs)

MdDocs can be used either as .NET Core (global) tool (see
[MdDocs .NET CLI tool](./net-cli-tool.md)) or integrated into
the project build as a set of MSBuild targets.

[![NuGet](https://img.shields.io/nuget/v/Grynwald.MdDocs.MSBuild.svg)](https://www.nuget.org/packages/Grynwald.MdDocs.MSBuild)

The package `Grynwald.MdDocs.MSBuild` allows generating documentation as part of the build process. To install the package, run

```ps1
dotnet add package Grynwald.MdDocs.MSBuild
```

or install it through the Visual Studio NuGet package manager

## Usage

When the MSBuild package is installed, documentation can be generated by running the appropriate MSBuild targets.
Optionally, the targets can be configured to automatically generate documentation when the project is built.

### API Reference

To generate API reference for a project, run

```ps1
dotnet msbuild <PROJECT> /t:GenerateApiReferenceDocumentation
```

The behaviour of the target can be customized by setting the following MSBuild properties:

| Property Name                              | Default Value                        | Description                                                                               |
|--------------------------------------------|--------------------------------------|-------------------------------------------------------------------------------------------|
| `GenerateApiReferenceDocumentationOnBuild` | `false`                              | Set the to `true` to automatically generate API documentation when the project is built.  |
| `MdDocsConfigurationFilePath`              | `mddocs.settings.json` <sup>1</sup>  | Specifies the path of the configuration file to use. See [Configuration](./configuration/README.md) for details .|
| `ApiReferenceDocumentationOutputPath`      | -                                    | The directory to save the generated documetation to. Overwrites the [Output Path setting](./configuration/apireference/README.md#output-path) |

<sup>1)</sup> When `MdDocsConfigurationFilePath` is not set, the MSBuild targets look for a file named `mddocs.settings.json` in the project directory or any parent directory of the project.

**⚠️ Note:** If the output directory already exists, all files in the output directory will be deleted.

- For an example of what the output looks like, have a look at the [demo project](./demoprojects/api/DemoProject/index.md).
- For a list of supported documentation tags, see [Supported documentation tags](./apireference/tags.md).

### Command Line Help

To generate command line documentation for a project, run

```ps1
dotnet msbuild <PROJECT> /t:GenerateCommandLineDocumentation
```

The behaviour of the target can be customized by setting the following MSBuild properties:

| Property Name                             | Default Value                        | Description |
|-------------------------------------------|--------------------------------------|-----------------------------------------------------------------------------------------------|
| `GenerateCommandLineDocumentationOnBuild` | `false`                              | Set to `true` to automatically generate command line documentation when the project is built. |
| `MdDocsConfigurationFilePath`             | `mddocs.settings.json` <sup>1</sup>  | Specifies the path of the configuration file to use. See [Configuration](./configuration/README.md) for details .|
| `CommandLineDocumentationOutputPath`      | -                                    | The directory to save the generated documetation to. Overwrites the [Output Path setting](./configuration/commandlinehelp/README.md#output-path) |

<sup>1)</sup> When `MdDocsConfigurationFilePath` is not set, the MSBuild targets look for a file named `mddocs.settings.json` in the project directory or any parent directory of the project.

**⚠️ Note:** If the output directory already exists, all files in the output directory will be deleted.

For an example of what the output looks like, have a look at the [demo project](./demoprojects/commandline/index.md).

## See Also

- [MdDocs .NET CLI tool](./net-cli-tool.md)
- [Configuration](./configuration/README.md)
